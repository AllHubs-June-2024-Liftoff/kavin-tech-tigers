<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Friends List</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="container mt-4">
<h2>Friends List</h2>
<ul class="list-group">
  <li class="list-group-item" th:each="friend : ${friends}">
    <span th:text="${friend.username}"></span>
  </li>
</ul>


<h3 class="mt-4">Add Friend</h3>
<input type="number" id="friendUserId" class="form-control mb-2" placeholder="Enter Friend's User ID">
<button onclick="addFriend()" class="btn btn-primary">Add Friend</button>

<script>
  function addFriend() {
      let userId = 1;  // Replace with logged-in user's ID
      let friendUserId = document.getElementById("friendUserId").value;

      fetch(`/api/friends/add?userId=${userId}&friendId=${friendUserId}`, {
          method: "POST"
      })
      .then(response => response.text())
      .then(data => alert(data))
      .catch(error => console.error("Error:", error));
  }
</script>
</body>
</html>
